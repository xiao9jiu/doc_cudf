\doxysection{error.\+hpp}
\hypertarget{error_8hpp_source}{}\label{error_8hpp_source}\index{D:/gitLibrary/cudf/cpp/include/cudf/utilities/error.hpp@{D:/gitLibrary/cudf/cpp/include/cudf/utilities/error.hpp}}
\mbox{\hyperlink{error_8hpp}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00001}00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00002}00002\ \textcolor{comment}{\ *\ Copyright\ (c)\ 2019-\/2022,\ NVIDIA\ CORPORATION.}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00003}00003\ \textcolor{comment}{\ *}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00004}00004\ \textcolor{comment}{\ *\ Licensed\ under\ the\ Apache\ License,\ Version\ 2.0\ (the\ "{}License"{});}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00005}00005\ \textcolor{comment}{\ *\ you\ may\ not\ use\ this\ file\ except\ in\ compliance\ with\ the\ License.}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00006}00006\ \textcolor{comment}{\ *\ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00007}00007\ \textcolor{comment}{\ *}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00008}00008\ \textcolor{comment}{\ *\ \ \ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00009}00009\ \textcolor{comment}{\ *}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00010}00010\ \textcolor{comment}{\ *\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,\ software}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00011}00011\ \textcolor{comment}{\ *\ distributed\ under\ the\ License\ is\ distributed\ on\ an\ "{}AS\ IS"{}\ BASIS,}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00012}00012\ \textcolor{comment}{\ *\ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY\ KIND,\ either\ express\ or\ implied.}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00013}00013\ \textcolor{comment}{\ *\ See\ the\ License\ for\ the\ specific\ language\ governing\ permissions\ and}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00014}00014\ \textcolor{comment}{\ *\ limitations\ under\ the\ License.}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00015}00015\ \textcolor{comment}{\ */}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00016}00016\ }
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00017}00017\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00019}00019\ \textcolor{preprocessor}{\#include\ <cuda.h>}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00020}00020\ \textcolor{preprocessor}{\#include\ <cuda\_runtime\_api.h>}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00021}00021\ \textcolor{preprocessor}{\#include\ <stdexcept>}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00022}00022\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00023}00023\ }
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00024}00024\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacecudf}{cudf}}\ \{}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00037}\mbox{\hyperlink{structcudf_1_1logic__error}{00037}}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structcudf_1_1logic__error}{logic\_error}}\ :\ \textcolor{keyword}{public}\ std::logic\_error\ \{}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00043}\mbox{\hyperlink{structcudf_1_1logic__error_a20ce9586edc55454a01889e91c8c7023}{00043}}\ \ \ \mbox{\hyperlink{structcudf_1_1logic__error_a20ce9586edc55454a01889e91c8c7023}{logic\_error}}(\textcolor{keywordtype}{char}\ \textcolor{keyword}{const}*\ \textcolor{keyword}{const}\ message)\ :\ \mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{structcudf_1_1logic__error}{logic\_error}}(message)\ \{\}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00044}00044\ }
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00050}\mbox{\hyperlink{structcudf_1_1logic__error_a6901fb3ad36a2dff34d1b68406553b53}{00050}}\ \ \ \mbox{\hyperlink{structcudf_1_1logic__error_a6901fb3ad36a2dff34d1b68406553b53}{logic\_error}}(std::string\ \textcolor{keyword}{const}\&\ message)\ :\ \mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{structcudf_1_1logic__error}{logic\_error}}(message)\ \{\}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00051}00051\ }
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00052}00052\ \ \ \textcolor{comment}{//\ TODO\ Add\ an\ error\ code\ member?\ This\ would\ be\ useful\ for\ translating\ an}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00053}00053\ \ \ \textcolor{comment}{//\ exception\ to\ an\ error\ code\ in\ a\ pure-\/C\ API}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00054}00054\ \};}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00059}\mbox{\hyperlink{structcudf_1_1cuda__error}{00059}}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structcudf_1_1cuda__error}{cuda\_error}}\ :\ \textcolor{keyword}{public}\ std::runtime\_error\ \{}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00066}\mbox{\hyperlink{structcudf_1_1cuda__error_a14bc4c8951135f3d382fcc358b8b585f}{00066}}\ \ \ \mbox{\hyperlink{structcudf_1_1cuda__error_a14bc4c8951135f3d382fcc358b8b585f}{cuda\_error}}(std::string\ \textcolor{keyword}{const}\&\ message,\ cudaError\_t\ \textcolor{keyword}{const}\&\ error)}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00067}00067\ \ \ \ \ :\ \mbox{\hyperlink{namespacestd}{std}}::runtime\_error(message),\ \mbox{\hyperlink{structcudf_1_1cuda__error_a97d797b364f30e1d23cd5cd09bd250c1}{\_cudaError}}(error)}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00068}00068\ \ \ \{}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00069}00069\ \ \ \}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00070}00070\ }
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00071}00071\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00077}\mbox{\hyperlink{structcudf_1_1cuda__error_ac2373d71e409b2a64cab135811b0414f}{00077}}\ \ \ cudaError\_t\ \mbox{\hyperlink{structcudf_1_1cuda__error_ac2373d71e409b2a64cab135811b0414f}{error\_code}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structcudf_1_1cuda__error_a97d797b364f30e1d23cd5cd09bd250c1}{\_cudaError}};\ \}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00078}00078\ }
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00079}00079\ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00080}\mbox{\hyperlink{structcudf_1_1cuda__error_a97d797b364f30e1d23cd5cd09bd250c1}{00080}}\ \ \ cudaError\_t\ \mbox{\hyperlink{structcudf_1_1cuda__error_a97d797b364f30e1d23cd5cd09bd250c1}{\_cudaError}};\ \ }
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00081}00081\ \};}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00082}00082\ }
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00083}\mbox{\hyperlink{structcudf_1_1fatal__cuda__error}{00083}}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structcudf_1_1fatal__cuda__error}{fatal\_cuda\_error}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{structcudf_1_1cuda__error}{cuda\_error}}\ \{}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00084}00084\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structcudf_1_1cuda__error_a14bc4c8951135f3d382fcc358b8b585f}{cuda\_error::cuda\_error}};\ \ \textcolor{comment}{//\ Inherit\ constructors}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00085}00085\ \};}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00088}00088\ \}\ \ \textcolor{comment}{//\ namespace\ cudf}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00089}00089\ }
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00090}\mbox{\hyperlink{error_8hpp_aafefdd05c438f655b1f34e1e66a48951}{00090}}\ \textcolor{preprocessor}{\#define\ STRINGIFY\_DETAIL(x)\ \#x\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00091}\mbox{\hyperlink{error_8hpp_a5f5d02e10169c2bbee4f3b8a66f64164}{00091}}\ \textcolor{preprocessor}{\#define\ CUDF\_STRINGIFY(x)\ \ \ STRINGIFY\_DETAIL(x)\ \ }}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00092}00092\ }
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00113}\mbox{\hyperlink{group__utility__error_ga855a389cbf4b44cfd6891cd2f90edf34}{00113}}\ \textcolor{preprocessor}{\#define\ CUDF\_EXPECTS(cond,\ reason)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00114}00114\ \textcolor{preprocessor}{\ \ (!!(cond))\ ?\ static\_cast<void>(0)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00115}00115\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ :\ throw\ cudf::logic\_error("{}cuDF\ failure\ at:\ "{}}\ \_\_FILE\_\_\ \(\backslash\)}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00116}00116\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ "{}:"{}\ CUDF\_STRINGIFY(\_\_LINE\_\_)\ "{}:\ "{}\ reason)}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00117}00117\ }
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00131}\mbox{\hyperlink{group__utility__error_ga8fec215b7e7785312d292d75f797ccc1}{00131}}\ \textcolor{preprocessor}{\#define\ CUDF\_FAIL(reason)\ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00132}00132\ \textcolor{preprocessor}{\ \ throw\ cudf::logic\_error("{}cuDF\ failure\ at:\ "{}}\ \_\_FILE\_\_\ "{}:"{}\ CUDF\_STRINGIFY(\_\_LINE\_\_)\ "{}:\ "{}\ reason)}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00133}00133\ }
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00134}00134\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacecudf}{cudf}}\ \{}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00135}00135\ \textcolor{keyword}{namespace\ }detail\ \{}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00136}00136\ \textcolor{comment}{//\ @cond}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00137}00137\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ throw\_cuda\_error(cudaError\_t\ error,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ file,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ line)}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00138}00138\ \{}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00139}00139\ \ \ \textcolor{comment}{//\ Calls\ cudaGetLastError\ to\ clear\ the\ error\ status.\ It\ is\ nearly\ certain\ that\ a\ fatal\ error}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00140}00140\ \ \ \textcolor{comment}{//\ occurred\ if\ it\ still\ returns\ the\ same\ error\ after\ a\ cleanup.}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00141}00141\ \ \ cudaGetLastError();}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00142}00142\ \ \ \textcolor{keyword}{auto}\ \textcolor{keyword}{const}\ last\ =\ cudaFree(0);}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00143}00143\ \ \ \textcolor{keyword}{auto}\ \textcolor{keyword}{const}\ msg\ \ =\ std::string\{\textcolor{stringliteral}{"{}CUDA\ error\ encountered\ at:\ "{}}\ +\ std::string\{file\}\ +\ \textcolor{stringliteral}{"{}:"{}}\ +}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00144}00144\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::to\_string(line)\ +\ \textcolor{stringliteral}{"{}:\ "{}}\ +\ std::to\_string(error)\ +\ \textcolor{stringliteral}{"{}\ "{}}\ +}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00145}00145\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cudaGetErrorName(error)\ +\ \textcolor{stringliteral}{"{}\ "{}}\ +\ cudaGetErrorString(error)\};}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00146}00146\ \ \ \textcolor{comment}{//\ Call\ cudaDeviceSynchronize\ to\ ensure\ \`{}last`\ did\ not\ result\ from\ an\ asynchronous\ error.}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00147}00147\ \ \ \textcolor{comment}{//\ between\ two\ calls.}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00148}00148\ \ \ \textcolor{keywordflow}{if}\ (error\ ==\ last\ \&\&\ last\ ==\ cudaDeviceSynchronize())\ \{}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00149}00149\ \ \ \ \ \textcolor{keywordflow}{throw}\ fatal\_cuda\_error\{\textcolor{stringliteral}{"{}Fatal\ "{}}\ +\ msg,\ error\};}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00150}00150\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00151}00151\ \ \ \ \ \textcolor{keywordflow}{throw}\ cuda\_error\{msg,\ error\};}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00152}00152\ \ \ \}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00153}00153\ \}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00154}00154\ \textcolor{comment}{//\ @endcond}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00155}00155\ \}\ \ \textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00156}00156\ \}\ \ \textcolor{comment}{//\ namespace\ cudf}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00157}00157\ }
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00165}\mbox{\hyperlink{group__utility__error_gaeb308ca6145fb2250acd4e7651dec984}{00165}}\ \textcolor{preprocessor}{\#define\ CUDF\_CUDA\_TRY(call)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00166}00166\ \textcolor{preprocessor}{\ \ do\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00167}00167\ \textcolor{preprocessor}{\ \ \ \ cudaError\_t\ const\ status\ =\ (call);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00168}00168\ \textcolor{preprocessor}{\ \ \ \ if\ (cudaSuccess\ !=\ status)\ \{\ cudf::detail::throw\_cuda\_error(status,\ \_\_FILE\_\_,\ \_\_LINE\_\_);\ \}\ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00169}00169\ \textcolor{preprocessor}{\ \ \}\ while\ (0);}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00170}00170\ }
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00184}00184\ \textcolor{preprocessor}{\#ifndef\ NDEBUG}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00185}\mbox{\hyperlink{group__utility__error_gaa37ff3115a47c6d658f1603746e54134}{00185}}\ \textcolor{preprocessor}{\#define\ CUDF\_CHECK\_CUDA(stream)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00186}00186\ \textcolor{preprocessor}{\ \ do\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00187}00187\ \textcolor{preprocessor}{\ \ \ \ CUDF\_CUDA\_TRY(cudaStreamSynchronize(stream));\ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00188}00188\ \textcolor{preprocessor}{\ \ \ \ CUDF\_CUDA\_TRY(cudaPeekAtLastError());\ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00189}00189\ \textcolor{preprocessor}{\ \ \}\ while\ (0);}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00190}00190\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00191}00191\ \textcolor{preprocessor}{\#define\ CUDF\_CHECK\_CUDA(stream)\ CUDF\_CUDA\_TRY(cudaPeekAtLastError());}}
\DoxyCodeLine{\Hypertarget{error_8hpp_source_l00192}00192\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
