\doxysection{Strings\+\_\+copy}
\hypertarget{group__strings__copy}{}\label{group__strings__copy}\index{Strings\_copy@{Strings\_copy}}
\doxysubsubsection*{文件}
\begin{DoxyCompactItemize}
\item 
文件 \mbox{\hyperlink{repeat__strings_8hpp}{repeat\+\_\+strings.\+hpp}}
\begin{DoxyCompactList}\small\item\em Strings APIs for copying strings. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{函数}
\begin{DoxyCompactItemize}
\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classcudf_1_1string__scalar}{string\+\_\+scalar}} $>$ \mbox{\hyperlink{group__strings__copy_gae2f325ce6bb8c781059b00740dc16a56}{cudf\+::strings\+::repeat\+\_\+string}} (\mbox{\hyperlink{classcudf_1_1string__scalar}{string\+\_\+scalar}} const \&input, \mbox{\hyperlink{group__utility__types_ga0aff16b2db009d92300befaca11827e9}{size\+\_\+type}} repeat\+\_\+times, rmm\+::mr\+::device\+\_\+memory\+\_\+resource \texorpdfstring{$\ast$}{*}mr=rmm\+::mr\+::get\+\_\+current\+\_\+device\+\_\+resource())
\begin{DoxyCompactList}\small\item\em Repeat the given string scalar by a given number of times. \end{DoxyCompactList}\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classcudf_1_1column}{column}} $>$ \mbox{\hyperlink{group__strings__copy_ga1b30c16352ee430aa062172a6d69d307}{cudf\+::strings\+::repeat\+\_\+strings}} (\mbox{\hyperlink{classcudf_1_1strings__column__view}{strings\+\_\+column\+\_\+view}} const \&input, \mbox{\hyperlink{group__utility__types_ga0aff16b2db009d92300befaca11827e9}{size\+\_\+type}} repeat\+\_\+times, rmm\+::mr\+::device\+\_\+memory\+\_\+resource \texorpdfstring{$\ast$}{*}mr=rmm\+::mr\+::get\+\_\+current\+\_\+device\+\_\+resource())
\begin{DoxyCompactList}\small\item\em Repeat each string in the given strings column by a given number of times. \end{DoxyCompactList}\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classcudf_1_1column}{column}} $>$ \mbox{\hyperlink{group__strings__copy_ga2eee20e6dd704fedce49267476a669e6}{cudf\+::strings\+::repeat\+\_\+strings}} (\mbox{\hyperlink{classcudf_1_1strings__column__view}{strings\+\_\+column\+\_\+view}} const \&input, \mbox{\hyperlink{classcudf_1_1column__view}{column\+\_\+view}} const \&repeat\+\_\+times, std\+::optional$<$ \mbox{\hyperlink{classcudf_1_1column__view}{column\+\_\+view}} $>$ output\+\_\+strings\+\_\+sizes=std\+::nullopt, rmm\+::mr\+::device\+\_\+memory\+\_\+resource \texorpdfstring{$\ast$}{*}mr=rmm\+::mr\+::get\+\_\+current\+\_\+device\+\_\+resource())
\begin{DoxyCompactList}\small\item\em Repeat each string in the given strings column by the numbers of times given in another numeric column. \end{DoxyCompactList}\item 
std\+::pair$<$ std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classcudf_1_1column}{column}} $>$, int64\+\_\+t $>$ \mbox{\hyperlink{group__strings__copy_ga1732511fe7c5c2f353ff4eb884072428}{cudf\+::strings\+::repeat\+\_\+strings\+\_\+output\+\_\+sizes}} (\mbox{\hyperlink{classcudf_1_1strings__column__view}{strings\+\_\+column\+\_\+view}} const \&input, \mbox{\hyperlink{classcudf_1_1column__view}{column\+\_\+view}} const \&repeat\+\_\+times, rmm\+::mr\+::device\+\_\+memory\+\_\+resource \texorpdfstring{$\ast$}{*}mr=rmm\+::mr\+::get\+\_\+current\+\_\+device\+\_\+resource())
\begin{DoxyCompactList}\small\item\em Compute sizes of the output strings if each string in the input strings column is repeated by the numbers of times given in another numeric column. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{详细描述}


\doxysubsection{函数说明}
\Hypertarget{group__strings__copy_gae2f325ce6bb8c781059b00740dc16a56}\label{group__strings__copy_gae2f325ce6bb8c781059b00740dc16a56} 
\index{Strings\_copy@{Strings\_copy}!repeat\_string@{repeat\_string}}
\index{repeat\_string@{repeat\_string}!Strings\_copy@{Strings\_copy}}
\doxysubsubsection{\texorpdfstring{repeat\_string()}{repeat\_string()}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classcudf_1_1string__scalar}{string\+\_\+scalar}} $>$ cudf\+::strings\+::repeat\+\_\+string (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcudf_1_1string__scalar}{string\+\_\+scalar}} const \&}]{input,  }\item[{\mbox{\hyperlink{group__utility__types_ga0aff16b2db009d92300befaca11827e9}{size\+\_\+type}}}]{repeat\+\_\+times,  }\item[{rmm\+::mr\+::device\+\_\+memory\+\_\+resource \texorpdfstring{$\ast$}{*}}]{mr = {\ttfamily rmm\+:\+:mr\+:\+:get\+\_\+current\+\_\+device\+\_\+resource()} }\end{DoxyParamCaption})}



Repeat the given string scalar by a given number of times. 

An output string scalar is generated by repeating the input string by a number of times given by the {\ttfamily \`{}repeat\+\_\+times\`{}} parameter.

In special cases\+:
\begin{DoxyItemize}
\item If {\ttfamily \`{}repeat\+\_\+times\`{}} is not a positive value, an empty (valid) string scalar will be returned.
\item An invalid input scalar will always result in an invalid output scalar regardless of the value of {\ttfamily \`{}repeat\+\_\+times\`{}} parameter.
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{Example:}
\DoxyCodeLine{s\ \ \ =\ '123XYZ-\/'}
\DoxyCodeLine{out\ =\ repeat\_strings(s,\ 3)}
\DoxyCodeLine{out\ is\ '123XYZ-\/123XYZ-\/123XYZ-\/'}

\end{DoxyCode}



\begin{DoxyExceptions}{异常}
{\em \doxylink{structcudf_1_1logic__error}{cudf\+::logic\+\_\+error}} & if the size of the output string scalar exceeds the maximum value that can be stored by the index type (i.\+e., 
\begin{DoxyCode}{1}
\DoxyCodeLine{input.size()\ *\ repeat\_times\ >\ numeric\_limits<size\_type>::max()\ }

\end{DoxyCode}
).\\
\hline
\end{DoxyExceptions}

\begin{DoxyParams}{参数}
{\em input} & The scalar containing the string to repeat. \\
\hline
{\em repeat\+\_\+times} & The number of times the input string is repeated. \\
\hline
{\em mr} & Device memory resource used to allocate the returned string scalar. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
New string scalar in which the input string is repeated. 
\end{DoxyReturn}
\Hypertarget{group__strings__copy_ga2eee20e6dd704fedce49267476a669e6}\label{group__strings__copy_ga2eee20e6dd704fedce49267476a669e6} 
\index{Strings\_copy@{Strings\_copy}!repeat\_strings@{repeat\_strings}}
\index{repeat\_strings@{repeat\_strings}!Strings\_copy@{Strings\_copy}}
\doxysubsubsection{\texorpdfstring{repeat\_strings()}{repeat\_strings()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classcudf_1_1column}{column}} $>$ cudf\+::strings\+::repeat\+\_\+strings (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcudf_1_1strings__column__view}{strings\+\_\+column\+\_\+view}} const \&}]{input,  }\item[{\mbox{\hyperlink{classcudf_1_1column__view}{column\+\_\+view}} const \&}]{repeat\+\_\+times,  }\item[{std\+::optional$<$ \mbox{\hyperlink{classcudf_1_1column__view}{column\+\_\+view}} $>$}]{output\+\_\+strings\+\_\+sizes = {\ttfamily std\+:\+:nullopt},  }\item[{rmm\+::mr\+::device\+\_\+memory\+\_\+resource \texorpdfstring{$\ast$}{*}}]{mr = {\ttfamily rmm\+:\+:mr\+:\+:get\+\_\+current\+\_\+device\+\_\+resource()} }\end{DoxyParamCaption})}



Repeat each string in the given strings column by the numbers of times given in another numeric column. 

An output strings column is generated by repeating each of the input string by a number of times given by the corresponding row in a {\ttfamily \`{}repeat\+\_\+times\`{}} numeric column. The computational time can be reduced if sizes of the output strings are known and provided.

In special cases\+:
\begin{DoxyItemize}
\item Any null row (from either the input strings column or the {\ttfamily repeat\+\_\+times} column) will always result in a null output string.
\item If any value in the {\ttfamily repeat\+\_\+times} column is not a positive number and its corresponding input string is not null, the output string will be an empty string.
\end{DoxyItemize}

The caller is responsible for checking the output column size will not exceed the maximum size of a strings column (number of total characters is less than the max size\+\_\+type value).


\begin{DoxyCode}{0}
\DoxyCodeLine{Example:}
\DoxyCodeLine{strs\ \ \ \ \ \ \ \ \ =\ ['aa',\ null,\ '',\ 'bbc-\/']}
\DoxyCodeLine{repeat\_times\ =\ [\ 1,\ \ \ 2,\ \ \ \ \ 3,\ \ 4\ \ \ ]}
\DoxyCodeLine{out\ \ \ \ \ \ \ \ \ \ =\ repeat\_strings(strs,\ repeat\_times)}
\DoxyCodeLine{out\ is\ ['aa',\ null,\ '',\ 'bbc-\/bbc-\/bbc-\/bbc-\/']}

\end{DoxyCode}



\begin{DoxyExceptions}{异常}
{\em \doxylink{structcudf_1_1logic__error}{cudf\+::logic\+\_\+error}} & if the input {\ttfamily repeat\+\_\+times} column has data type other than integer. \\
\hline
{\em \doxylink{structcudf_1_1logic__error}{cudf\+::logic\+\_\+error}} & if the input columns have different sizes.\\
\hline
\end{DoxyExceptions}

\begin{DoxyParams}{参数}
{\em input} & The column containing strings to repeat. \\
\hline
{\em repeat\+\_\+times} & The column containing numbers of times that the corresponding input strings are repeated. \\
\hline
{\em output\+\_\+strings\+\_\+sizes} & The optional column containing pre-\/computed sizes of the output strings. \\
\hline
{\em mr} & Device memory resource used to allocate the returned strings column. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
New column containing the repeated strings. 
\end{DoxyReturn}
\Hypertarget{group__strings__copy_ga1b30c16352ee430aa062172a6d69d307}\label{group__strings__copy_ga1b30c16352ee430aa062172a6d69d307} 
\index{Strings\_copy@{Strings\_copy}!repeat\_strings@{repeat\_strings}}
\index{repeat\_strings@{repeat\_strings}!Strings\_copy@{Strings\_copy}}
\doxysubsubsection{\texorpdfstring{repeat\_strings()}{repeat\_strings()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classcudf_1_1column}{column}} $>$ cudf\+::strings\+::repeat\+\_\+strings (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcudf_1_1strings__column__view}{strings\+\_\+column\+\_\+view}} const \&}]{input,  }\item[{\mbox{\hyperlink{group__utility__types_ga0aff16b2db009d92300befaca11827e9}{size\+\_\+type}}}]{repeat\+\_\+times,  }\item[{rmm\+::mr\+::device\+\_\+memory\+\_\+resource \texorpdfstring{$\ast$}{*}}]{mr = {\ttfamily rmm\+:\+:mr\+:\+:get\+\_\+current\+\_\+device\+\_\+resource()} }\end{DoxyParamCaption})}



Repeat each string in the given strings column by a given number of times. 

An output strings column is generated by repeating each string from the input strings column by a number of times given by the {\ttfamily \`{}repeat\+\_\+times\`{}} parameter.

In special cases\+:
\begin{DoxyItemize}
\item If {\ttfamily \`{}repeat\+\_\+times\`{}} is not a positive number, a non-\/null input string will always result in an empty output string.
\item A null input string will always result in a null output string regardless of the value of the {\ttfamily \`{}repeat\+\_\+times\`{}} parameter.
\end{DoxyItemize}

The caller is responsible for checking the output column size will not exceed the maximum size of a strings column (number of total characters is less than the max size\+\_\+type value).


\begin{DoxyCode}{0}
\DoxyCodeLine{Example:}
\DoxyCodeLine{strs\ =\ ['aa',\ null,\ '',\ 'bbc']}
\DoxyCodeLine{out\ \ =\ repeat\_strings(strs,\ 3)}
\DoxyCodeLine{out\ is\ ['aaaaaa',\ null,\ '',\ 'bbcbbcbbc']}

\end{DoxyCode}



\begin{DoxyParams}{参数}
{\em input} & The column containing strings to repeat. \\
\hline
{\em repeat\+\_\+times} & The number of times each input string is repeated. \\
\hline
{\em mr} & Device memory resource used to allocate the returned strings column. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
New column containing the repeated strings. 
\end{DoxyReturn}
\Hypertarget{group__strings__copy_ga1732511fe7c5c2f353ff4eb884072428}\label{group__strings__copy_ga1732511fe7c5c2f353ff4eb884072428} 
\index{Strings\_copy@{Strings\_copy}!repeat\_strings\_output\_sizes@{repeat\_strings\_output\_sizes}}
\index{repeat\_strings\_output\_sizes@{repeat\_strings\_output\_sizes}!Strings\_copy@{Strings\_copy}}
\doxysubsubsection{\texorpdfstring{repeat\_strings\_output\_sizes()}{repeat\_strings\_output\_sizes()}}
{\footnotesize\ttfamily std\+::pair$<$ std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classcudf_1_1column}{column}} $>$, int64\+\_\+t $>$ cudf\+::strings\+::repeat\+\_\+strings\+\_\+output\+\_\+sizes (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcudf_1_1strings__column__view}{strings\+\_\+column\+\_\+view}} const \&}]{input,  }\item[{\mbox{\hyperlink{classcudf_1_1column__view}{column\+\_\+view}} const \&}]{repeat\+\_\+times,  }\item[{rmm\+::mr\+::device\+\_\+memory\+\_\+resource \texorpdfstring{$\ast$}{*}}]{mr = {\ttfamily rmm\+:\+:mr\+:\+:get\+\_\+current\+\_\+device\+\_\+resource()} }\end{DoxyParamCaption})}



Compute sizes of the output strings if each string in the input strings column is repeated by the numbers of times given in another numeric column. 

The output column storing string output sizes is not nullable. These string sizes are also summed up and returned (in an {\ttfamily int64\+\_\+t} value), which can be used to detect if the input strings column can be safely repeated without data corruption due to overflow in string indexing.


\begin{DoxyCode}{0}
\DoxyCodeLine{Example:}
\DoxyCodeLine{strs\ \ \ \ \ \ \ \ \ =\ ['aa',\ null,\ '',\ 'bbc-\/']}
\DoxyCodeLine{repeat\_times\ =\ [\ 1,\ \ \ 2,\ \ \ \ \ 3,\ \ 4\ \ \ ]}
\DoxyCodeLine{[output\_sizes,\ total\_size]\ =\ repeat\_strings\_output\_sizes(strs,\ repeat\_times)}
\DoxyCodeLine{out\ is\ [2,\ 0,\ 0,\ 16],\ and\ total\_size\ =\ 18}

\end{DoxyCode}



\begin{DoxyExceptions}{异常}
{\em \doxylink{structcudf_1_1logic__error}{cudf\+::logic\+\_\+error}} & if the input {\ttfamily repeat\+\_\+times} column has data type other than integer. \\
\hline
{\em \doxylink{structcudf_1_1logic__error}{cudf\+::logic\+\_\+error}} & if the input columns have different sizes.\\
\hline
\end{DoxyExceptions}

\begin{DoxyParams}{参数}
{\em input} & The column containing strings to repeat. \\
\hline
{\em repeat\+\_\+times} & The column containing numbers of times that the corresponding input strings are repeated. \\
\hline
{\em mr} & Device memory resource used to allocate the returned strings column. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
A pair with the first item is an int32\+\_\+t column containing sizes of the output strings, and the second item is an int64\+\_\+t number containing the total sizes (in bytes) of the output strings column. 
\end{DoxyReturn}
